{"version":3,"sources":["api/messageFly/messageFly.controller.js"],"names":["index","req","res","next","MessageFly","findAll","attributes","where","userId","user","id","include","model","Route","SenderId","Campaign","then","json","data","catch"],"mappings":";;;;;QAEgBA,K,GAAAA,K;;AAFhB;;;;;;AAEO,SAASA,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACpC,SAAO,gBAAGC,UAAH,CACJC,OADI,CACI;AACPC,gBAAY,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,EAA2B,SAA3B,EAAsC,OAAtC,EAA+C,SAA/C,EAA0D,MAA1D,EAAkE,SAAlE,EACV,OADU,EACD,aADC,CADL;AAGPC,WAAO,EAAEC,QAAQP,IAAIQ,IAAJ,CAASC,EAAnB,EAHA;AAIPC,aAAS,CACP,EAAEL,YAAY,CAAC,IAAD,EAAO,MAAP,CAAd,EAA8BM,OAAO,gBAAGC,KAAxC,EADO,EAEP,EAAEP,YAAY,CAAC,IAAD,EAAO,MAAP,CAAd,EAA8BM,OAAO,gBAAGE,QAAxC,EAFO,EAGP,EAAER,YAAY,CAAC,IAAD,EAAO,MAAP,CAAd,EAA8BM,OAAO,gBAAGG,QAAxC,EAHO;AAJF,GADJ,EAWJC,IAXI,CAWC;AAAA,WAAQd,IAAIe,IAAJ,CAASC,IAAT,CAAR;AAAA,GAXD,EAYJC,KAZI,CAYEhB,IAZF,CAAP;AAaD","file":"messageFly.controller.js","sourcesContent":["import db from '../../conn/sqldb';\n\nexport function index(req, res, next) {\n  return db.MessageFly\n    .findAll({\n      attributes: ['id', 'text', 'groupIds', 'numbers', 'total', 'success', 'fail', 'unicode',\n        'flash', 'scheduledOn'],\n      where: { userId: req.user.id },\n      include: [\n        { attributes: ['id', 'name'], model: db.Route },\n        { attributes: ['id', 'name'], model: db.SenderId },\n        { attributes: ['id', 'name'], model: db.Campaign },\n      ],\n    })\n    .then(data => res.json(data))\n    .catch(next);\n}\n"]}