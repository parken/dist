{"version":3,"sources":["api/template/template.controller.js"],"names":["index","handleError","res","argStatusCode","err","error","statusCode","status","send","req","Template","findAll","attributes","where","userId","user","id","then","json","data","catch"],"mappings":";;;;;QASgBA,K,GAAAA,K;;AAThB;;;;AACA;;;;;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0BC,aAA1B,EAAyCC,GAAzC,EAA8C;AAC5C,mBAAOC,KAAP,CAAa,iBAAb,EAAgCD,GAAhC;AACA,MAAME,aAAaH,iBAAiB,GAApC;AACAD,MAAIK,MAAJ,CAAWD,UAAX,EAAuBE,IAAvB,CAA4BJ,GAA5B;AACD;;AAEM,SAASJ,KAAT,CAAeS,GAAf,EAAoBP,GAApB,EAAyB;AAC9B,SAAO,gBAAGQ,QAAH,CACJC,OADI,CACI;AACPC,gBAAY,CAAC,IAAD,EAAO,MAAP,EAAe,SAAf,CADL;AAEPC,WAAO,EAAEC,QAAQL,IAAIM,IAAJ,CAASC,EAAnB;AAFA,GADJ,EAKJC,IALI,CAKC;AAAA,WAAQf,IAAIgB,IAAJ,CAASC,IAAT,CAAR;AAAA,GALD,EAMJC,KANI,CAME;AAAA,WAAOnB,YAAYC,GAAZ,EAAiB,GAAjB,EAAsBE,GAAtB,CAAP;AAAA,GANF,CAAP;AAOD","file":"template.controller.js","sourcesContent":["import logger from '../../components/logger';\nimport db from '../../conn/sqldb';\n\nfunction handleError(res, argStatusCode, err) {\n  logger.error('user.controller', err);\n  const statusCode = argStatusCode || 500;\n  res.status(statusCode).send(err);\n}\n\nexport function index(req, res) {\n  return db.Template\n    .findAll({\n      attributes: ['id', 'name', 'content'],\n      where: { userId: req.user.id },\n    })\n    .then(data => res.json(data))\n    .catch(err => handleError(res, 500, err));\n}\n"]}