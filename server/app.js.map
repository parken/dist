{"version":3,"sources":["app.js"],"names":["log","console","app","server","createServer","socketio","serveClient","env","path","startServer","angularFullstack","listen","port","ip","get","resolve","then","catch","err","exports","module"],"mappings":";;;;;;AAKA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAMA,MAAMC,QAAQD,GAApB;AACA;AAhBA;;;;AAiBA,IAAME,MAAM,wBAAZ;AACA,IAAMC,SAAS,eAAKC,YAAL,CAAkBF,GAAlB,CAAf;AACA,IAAMG,WAAW,sBAAOF,MAAP,EAAe;AAC9BG,eAAa,sBAAOC,GAAP,KAAe,YADE;AAE9BC,QAAM;AAFwB,CAAf,CAAjB;AAIA,wBAAeH,QAAf;AACA,uBAAcH,GAAd;AACA,sBAAOA,GAAP;;AAEA;AACA,SAASO,WAAT,GAAuB;AACrBP,MAAIQ,gBAAJ,GAAuBP,OAAOQ,MAAP,CAAc,sBAAOC,IAArB,EAA2B,sBAAOC,EAAlC,EAAsC,YAAM;AACjEb,QAAI,4CAAJ,EAAkD,sBAAOY,IAAzD,EAA+DV,IAAIY,GAAJ,CAAQ,KAAR,CAA/D;AACD,GAFsB,CAAvB;AAGD;;AAED,kBAAQC,OAAR,GACGC,IADH,CACQ;AAAA,SAAMP,aAAN;AAAA,CADR,EAEGQ,KAFH,CAES,UAACC,GAAD,EAAS;AACdjB,UAAQD,GAAR,CAAYkB,GAAZ;AACA,SAAOT,aAAP;AACD,CALH;;AAOA;AACAU,UAAUC,OAAOD,OAAP,GAAiBjB,GAA3B","file":"app.js","sourcesContent":["/**\n * Main application file\n */\n\n\nimport express from 'express';\nimport config from './config/environment';\nimport http from 'http';\nimport socket from 'socket.io';\n\nimport socketIOConfig from './config/socketio';\nimport expressConfig from './config/express';\nimport routes from './routes';\n\n/* eslint no-console:0 */\nconst log = console.log;\n// Setup server\nconst app = express();\nconst server = http.createServer(app);\nconst socketio = socket(server, {\n  serveClient: config.env !== 'production',\n  path: '/socket.io-client',\n});\nsocketIOConfig(socketio);\nexpressConfig(app);\nroutes(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(config.port, config.ip, () => {\n    log('Express server listening on %d, in %s mode', config.port, app.get('env'));\n  });\n}\n\nPromise.resolve()\n  .then(() => startServer())\n  .catch((err) => {\n    console.log(err);\n    return startServer();\n  });\n\n// Expose app\nexports = module.exports = app;\n"]}