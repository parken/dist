{"version":3,"sources":["conn/sqldb/migrations/20170611143828-create-user.js"],"names":["require","engine","timestamps","keys","module","exports","up","queryInterface","DataTypes","createTable","id","type","INTEGER","allowNull","primaryKey","autoIncrement","name","STRING","mobile","unique","email","transactionalStartFrom","transactionalPercent","promotionalStartFrom","promotionalPercent","otpStartFrom","otpPercent","senderIdStartFrom","senderIdPercent","expiresAt","DATE","defaultValue","fn","supportName","supportMobile","supportEmail","loginUrl","companyName","companyLogo","admin","otp","otpStatus","password","slackUrl","slackActive","BOOLEAN","smsActive","active","sellingBalanceTransactional","sendingBalanceTransactional","sellingBalancePromotional","sendingBalancePromotional","sellingBalanceSenderId","sendingBalanceSenderId","sellingBalanceOTP","sendingBalanceOTP","roleId","then","addColumn","down","dropTable"],"mappings":"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","file":"20170611143828-create-user.js","sourcesContent":["const { engine, timestamps, keys } = require('../helper.js');\n\nmodule.exports = {\n  up(queryInterface, DataTypes) {\n    return queryInterface.createTable('users', Object.assign({\n      id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true,\n      },\n      name: DataTypes.STRING,\n      mobile: {\n        type: DataTypes.STRING(15),\n        unique: true,\n      },\n      email: {\n        type: DataTypes.STRING(50),\n        unique: true,\n      },\n      transactionalStartFrom: DataTypes.INTEGER,\n      transactionalPercent: DataTypes.INTEGER,\n      promotionalStartFrom: DataTypes.INTEGER,\n      promotionalPercent: DataTypes.INTEGER,\n      otpStartFrom: DataTypes.INTEGER,\n      otpPercent: DataTypes.INTEGER,\n      senderIdStartFrom: DataTypes.INTEGER,\n      senderIdPercent: DataTypes.INTEGER,\n      expiresAt: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.fn('NOW'),\n      },\n      supportName: DataTypes.STRING,\n      supportMobile: DataTypes.STRING,\n      supportEmail: DataTypes.STRING,\n      loginUrl: DataTypes.STRING,\n      companyName: DataTypes.STRING,\n      companyLogo: DataTypes.STRING,\n      admin: DataTypes.INTEGER,\n      otp: DataTypes.STRING,\n      otpStatus: DataTypes.INTEGER,\n      password: DataTypes.STRING,\n      slackUrl: DataTypes.STRING,\n      slackActive: { type: DataTypes.BOOLEAN, defaultValue: 0 },\n      smsActive: { type: DataTypes.BOOLEAN, defaultValue: 1 },\n      active: { type: DataTypes.BOOLEAN, defaultValue: 1 },\n      sellingBalanceTransactional: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sendingBalanceTransactional: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sellingBalancePromotional: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sendingBalancePromotional: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sellingBalanceSenderId: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sendingBalanceSenderId: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sellingBalanceOTP: { type: DataTypes.INTEGER, defaultValue: 0 },\n      sendingBalanceOTP: { type: DataTypes.INTEGER, defaultValue: 0 },\n      roleId: keys('roles'),\n    }, timestamps(3)), engine)\n      .then(() => queryInterface.addColumn('users', 'createdBy', keys('users')))\n      .then(() => queryInterface.addColumn('users', 'resellerId', keys('users')));\n  },\n  down(queryInterface) {\n    return queryInterface.dropTable('users');\n  },\n};\n"]}